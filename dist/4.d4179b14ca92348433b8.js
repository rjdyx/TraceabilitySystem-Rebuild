webpackJsonp([4],{141:function(t,a,e){var i,n;e(423),i=e(417);var d=e(454);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=d.render,n.staticRenderFns=d.staticRenderFns,n._scopeId="data-v-14beb66a",t.exports=i},417:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"dailylog",data:function(){return{title:[["农业日志"]],empty:[[]],fixation:[["时间:"],["天气:"],["记录人:"],["第    期"]],data1:[["种植区","果蔬名称"]],data2:[["播种/育苗","移栽"]],data3:[["施肥"]],data4:[["病虫害防治"]],data5:[["生长周期(天)","种植面积(垄)","采收重量(斤)","操作人"]],data6:[["品种","方式","品种","密度(cm)","种类","数量(kg)","方式","名称","施用方法","对象"]],dailylog:[],daily_record:[],imageSrc:"",canvasHeight:140}},mounted:function(){this.getDailylog()},methods:{getDailylog:function(){var t=this;this.$http.get(this.$adminUrl("dailylog/getlog"),{params:this.$route.params}).then(function(a){t.canvasHeight=180+80*a.data.arr.length;var e=document.getElementById("canvas");e.height=t.canvasHeight,t.tabHead(1120,40,1,1,0,0,t.title),t.tabHead(1120,30,1,1,0,40,t.empty),t.tabHead(70,110,1,2,0,70,t.data1),t.tabHead(140,40,1,2,140,70,t.data2),t.tabHead(210,40,1,1,420,70,t.data3),t.tabHead(210,40,1,1,630,70,t.data4),t.tabHead(70,110,1,4,840,70,t.data5),t.tabHead(70,70,1,10,140,110,t.data6),t.$set(t,"dailylog",a.data.arr),t.tabHead(70,80,t.dailylog.length,16,0,180,t.dailylog),t.$set(t,"daily_record",a.data.daily_record),t.getMessage(),t.getFixation(),t.show()},function(t){})},getFixation:function(){var t=document.getElementById("canvas"),a=t.getContext("2d");a.textAlign="center",a.font="17px Arial";var e=140,i=65;a.fillText(this.fixation[0],e,i);var n=500,d=65;a.fillText(this.fixation[1],n,d);var r=760,l=65;a.fillText(this.fixation[2],r,l);var o=980,s=65;a.fillText(this.fixation[3],o,s)},getMessage:function(){var t=document.getElementById("canvas"),a=t.getContext("2d");a.textAlign="center",a.font="17px Arial";var e=280,i=65;a.fillText(this.daily_record[0],e,i);var n=550,d=65;a.fillText(this.daily_record[1],n,d);var r=810,l=65;a.fillText(this.daily_record[2],r,l);var o=975,s=65;a.fillText(this.daily_record[3],o,s)},tabHead:function(t,a,e,i,n,d,r){var l=document.getElementById("canvas"),o=l.getContext("2d");o.font="16px Arial",o.textAlign="center";for(var s=1;s<=i;s++)for(var c=1;c<=e;c++){var f=n+(s-1)*t,g=d+(c-1)*a,u=f+t/2,v=g+a/2;o.fillStyle="#ffffff",o.fillRect(f,g,t,a),o.rect(f,g,t,a),o.fillStyle="#000000",void 0!=r[c-1][s-1]&&this.canvasTextAutoLine(r[c-1][s-1],l,u,v,16,t,a)}o.stroke()},canvasTextAutoLine:function(t,a,e,i,n,d,r){for(var l=a.getContext("2d"),o=0,s=0,c=0;c<t.length;c++)o+=l.measureText(t[c]).width,o>d-10&&(l.fillText(t.substring(s,c),e,i),i+=n,o=0,s=c),c==t.length-1&&l.fillText(t.substring(s,c+1),e,i)},show:function(){var t=document.getElementById("canvas"),a=t.toDataURL("image/png");this.imageSrc=a}}}},423:function(t,a){},454:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("canvas",{attrs:{id:"canvas",width:"1120",height:"140"}},[t._v("当前浏览器不支持")]),e("img",{attrs:{src:t.imageSrc,id:"Img",width:"80%"}})])},staticRenderFns:[]}}});