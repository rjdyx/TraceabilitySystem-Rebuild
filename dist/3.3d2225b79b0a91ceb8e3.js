webpackJsonp([3],{1014:function(t,e,n){e=t.exports=n(291)(),e.push([t.i,".user{height:100%;overflow:hidden;padding-left:10px}.user .user_content{margin-top:15px;overflow:scroll;height:100%}.user .user_content .titleUser{border-bottom:1px solid #dcdcdc;padding-bottom:10px;position:relative}.user .user_content .picture{display:inline-block;width:140px;height:124px;border:1px solid #ccc;overflow:hidden}.user .user_content .text{display:inline-block;vertical-align:top;margin-bottom:10px}.user .user_content .mainPic{text-align:center}.user .user_content .edit{position:absolute;right:2%;bottom:10%;color:#fff}.user .user_content .copyright{margin-top:50px}.user .user_content .coltext{font-size:14px;color:#898989;padding:10px}",""])},1039:function(t,e,n){e=t.exports=n(291)(),e.push([t.i,".newWrap{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.5);top:0;left:0;z-index:3}.newWrap .newForm{width:618px;max-width:618px;left:50%;top:50%;position:absolute;background:#fff;box-shadow:1px 1px 50px rgba(0,0,0,.3);border-radius:2px;height:618px}.newWrap .newForm .el-tabs{height:80%}.newWrap .newForm .el-tabs .el-tabs__header{padding-top:15px;margin:0;cursor:move}.newWrap .newForm .el-tabs .el-tabs__content{padding-top:15px;height:85%;overflow:auto}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane{width:100%!important}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table{width:100%;text-align:left}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr1{display:block;width:70%;margin:0 auto}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr1>td{display:block;width:100%}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr1>td .el-select{display:block}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr1>td .el-textarea__inner{resize:none}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr1>td .el-form-item__label:before{float:left}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr2{display:block;width:98%;margin:0 auto;padding-bottom:20px}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr2>td{display:block;width:100%}.newWrap .newForm .el-tabs .el-tabs__content .el-tab-pane table .tr2 .ul{width:85%;margin:0 auto}.newWrap .newForm .form-footer{border-top:1px solid #d1dbe5;text-align:right;padding:20px 10px 50px 0}.newWrap .newForm .form-footer .activecancel{background-color:#ccc;color:#fff}.newWrap .newForm .form-footer .batchNumDiv{text-align:left;padding-left:10px}.newWrap .newForm .form-footer .batchNumDiv .batchNum{display:inline-block;width:40px}.newWrap .newForm .form-footer .batchNumDiv .batchNum input{text-align:center;color:red}.newWrap .newForm .el-icon-circle-close{font-size:24px;color:#8492a6;position:absolute;right:-12px;top:-10px;border:3px solid #fff;border-radius:50%;background:#fff;z-index:3;cursor:pointer}.newWrap .newForm .el-icon-circle-close:hover{color:#0087b5;cursor:pointer}.newWrap .newForm .btn_change{color:#fff}",""])},1054:function(t,e,n){var a,r;n(1126),a=n(986);var i=n(1094);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},1066:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[n("div",{staticClass:"user_content"},[n("contain-title",{attrs:{settitle:t.settitle}}),n("div",{staticClass:"titleUser"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4}},[n("img",{staticClass:"picture",attrs:{src:t.logo,width:"100%",height:"100%"}})]),n("el-col",{attrs:{span:14}},[n("el-row",{staticClass:"text",attrs:{gutter:20}},t._l(t.listN,function(e,a){return n("el-col",{staticClass:"coltext",attrs:{span:8}},[t._v("\n                             "+t._s(e)+" "+t._s(t.listV[a])+"\n                        ")])}))],1),n("el-col",{attrs:{span:4}},[n("img",{staticClass:"picture",attrs:{src:t.watermark,width:"100%",height:"100%"}})]),n("el-col",{attrs:{span:2}},[n("el-button",{staticClass:"edit",on:{click:t.showEdit}},[t._v("编辑")])],1)],1)],1),t._m(0),n("footer-top"),t.isShow?n("companyEdit",{attrs:{editValue:t.listV},on:{updateValue:t.updateVal}}):t._e()],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mainPic"},[n("img",{attrs:{src:"/public/images/rfid.png"}})])}]}},1094:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newWrap"},[n("form",{staticClass:"newForm"},[n("i",{staticClass:"el-icon-circle-close",on:{click:t.closeClick}}),n("el-tabs",{staticClass:"tab"},[n("el-tab-pane",{attrs:{label:"编辑公司信息",name:t.编辑公司信息}},[n("el-form",{ref:"editValue",attrs:{model:t.editValue,rules:t.rules,"label-width":"100px"}},[n("table",[t._l(t.thread,function(e,a){return["text"==e[1]?n("tr",{staticClass:"tr1"},[n("td",[n("el-form-item",{attrs:{label:e[0],prop:a}},[n("el-input",{attrs:{placeholder:e[2]},model:{value:t.editValue[a],callback:function(e){var n=t.editValue,r=a;Array.isArray(n)?n.splice(r,1,e):t.editValue[a]=e},expression:"editValue[key]"}})],1)],1)]):"file"==e[1]?n("tr",{staticClass:"tr1"},[n("td",[n("el-form-item",{attrs:{label:e[0],prop:a}},[n("file",{attrs:{shuju:e[3],editValue:t.editValue[a]},on:{"return-shuju":t.getImg}})],1)],1)]):t._e()]})],2)])],1)],1),n("div",{staticClass:"form-footer"},[n("el-button",{staticClass:"btn_change",on:{click:function(e){t.submitForm("editValue")}}},[t._v("保存")]),n("el-button",{staticClass:"activecancel",on:{click:t.closeClick}},[t._v("取消")])],1)],1)])},staticRenderFns:[]}},1101:function(t,e,n){var a=n(1014);"string"==typeof a&&(a=[[t.i,a,""]]);n(292)(a,{});a.locals&&(t.exports=a.locals)},1126:function(t,e,n){var a=n(1039);"string"==typeof a&&(a=[[t.i,a,""]]);n(292)(a,{});a.locals&&(t.exports=a.locals)},327:function(t,e,n){var a,r;n(1101),a=n(980);var i=n(1066);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},844:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ContainTitle",props:{settitle:{type:String,default:""},isShow:{type:Boolean,default:!1}},methods:{back:function(){this.$router.go(-1)}}}},845:function(t,e,n){e=t.exports=n(291)(),e.push([t.i,".title[data-v-612b4f50]{padding:0 8px 14px 0;border-bottom:2px solid #e5e5e5;margin-bottom:10px}.title h2[data-v-612b4f50]{border-radius:4px;padding-left:14px;display:inline-block;font-family:YouYuan;color:#333;font-weight:400}.title .back[data-v-612b4f50]{display:inline-block;float:right;border:1px solid #dcdcdc;border-radius:4px;padding:0 10px 2px 0}.title .back[data-v-612b4f50]:hover{cursor:pointer}.title .back:hover .back_text[data-v-612b4f50]{color:#ccc}.title .back .back_icon[data-v-612b4f50]{display:inline-block;width:28px;height:15px;vertical-align:middle;margin-right:5px}",""])},846:function(t,e,n){var a,r;n(848),a=n(844);var i=n(847);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._scopeId="data-v-612b4f50",t.exports=a},847:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h2",[t._v(t._s(t.settitle))]),t.isShow?n("a",{staticClass:"back",on:{click:t.back}},[n("span",{staticClass:"back_icon"}),n("span",{staticClass:"back_text"},[t._v("返回")])]):t._e()])},staticRenderFns:[]}},848:function(t,e,n){var a=n(845);"string"==typeof a&&(a=[[t.i,a,""]]);n(292)(a,{});a.locals&&(t.exports=a.locals)},849:function(t,e,n){"use strict";(function(t){e.a={mounted:function(){var e=this,n=this;this.resizeFn(),t(".newWrap").find(t(".el-tabs__header")).on("mousedown",function(a){a.preventDefault(),e.dmL=a.clientX-t(".newForm").position().left,e.dmT=a.clientY-t(".newForm").position().top,t(document).on("mousemove",function(e){e.preventDefault();var a=e.clientX-n.dmL,r=e.clientY-n.dmT,i=t(document).outerWidth()-t(".newForm").innerWidth(),o=t(document).outerHeight()-t(".newForm").innerHeight();a>i?a=i:a<0&&(a=0),r>o?r=o:r<0&&(r=0),t(".newForm").css({left:a+"px",top:r+"px"})})}),t(document).on("mouseup",function(){t(document).off("mousemove")}),t(window).on("resize",function(){e.resizeFn()})},methods:{resizeFn:function(){var e=(t(document).outerWidth()-t(".newForm").innerWidth())/2,n=(t(document).outerHeight()-t(".newForm").innerHeight())/2;t(".newForm").css({left:e,top:n})}}}}).call(e,n(100))},850:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"footer"}},853:function(t,e,n){e=t.exports=n(291)(),e.push([t.i,".copyright{width:100%;height:80px;text-align:center;color:#919191;padding:30px 0}.copyright a{text-decoration:underline;color:#919191}",""])},855:function(t,e,n){var a,r;n(860),a=n(850);var i=n(858);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},858:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"copyright"},[n("p",[t._v("\n            Copyright©2017广东省科技计划重大专项科研成果 版权所有\n            "),n("a",{attrs:{href:"http://www.miitbeian.gov.cn/",target:"_blank"}},[t._v("粤ICP备16082048号-2")])]),n("p",[t._v("\n            最佳浏览器体验:360极速模式浏览器，最佳分辨率：1680*1050\n        ")])])}]}},860:function(t,e,n){var a=n(853);"string"==typeof a&&(a=[[t.i,a,""]]);n(292)(a,{});a.locals&&(t.exports=a.locals)},861:function(t,e,n){var a,r;n(866),a=n(863);var i=n(865);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},862:function(t,e,n){(function(t){e.phone=function(t,e,n,a,r){if(t.required)if(""!==e&&null!==e){var i=11===e.length&&/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)||12===e.length&&/^(([0+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/.test(e);i?n():n(new Error("请输入正确的联系方式"))}else n(new Error("请输入联系方式"));else if(""!==e&&null!==e){var o=11===e.length&&/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)||12===e.length&&/^(([0+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/.test(e);o?n():n(new Error("请输入正确的联系方式"))}else n()},e.reCheck=function(e,n,a,r,i){if(""!==n){var o;o=void 0!==e.id?{field:e.field,value:n,id:e.id}:{field:e.field,value:n},t.get("/api/util/check/"+e.url,{params:o}).then(function(t){"false"===t.data?a(new Error(void 0===e.message?"名称重复":e.message)):a()})}},e.reNumber=function(t,e,n,a,r){""!==e&&void 0!==e&&null!==e?/^(-?\d+)(\.\d+)?$/.test(e)?void 0!==t.getMax?parseInt(e)>parseInt(t.getMax)?n(new Error(t.getMessage)):n():void 0!==t.getMin?parseInt(e)<=parseInt(t.getMin)?n(new Error(t.getMessage)):n():void 0!==t.getMiddle?parseInt(e)<=parseInt(t.max)&&parseInt(e)>=parseInt(t.min)?n():n(new Error(t.getMessage)):n():n(new Error("请输入数字")):n()},e.reInteger=function(t,e,n,a,r){""!==e&&void 0!==e&&null!==e?/^\d+$/.test(e)?n():n(new Error("请输入整数")):n()},e.reDate=function(t,e,n,a,r){void 0!==t.aa?n():"{}"===JSON.stringify(e)?n(new Error(t.message)):n()}}).call(e,n(75))},863:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{shuju:{type:Object,default:function(){return{}}},editValue:{}},data:function(){return{imageUrl:"",file:{},pattern:{type:Array,default:function(){return["jpeg","png"]}}}},methods:{deleteImgFn:function(){this.imageUrl="",this.$emit("return-shuju",{name:this.shuju.name,value:""})},previewPic:function(t,e){for(var n=this,a=e.target.files[0],r="",i=0;i<this.pattern.length;i++)r+=this.pattern[i]+(i===this.pattern.length-1?"":"|");new RegExp("(?:"+r+")","i");if("image/png"!==a.type&&"image/jpeg"!==a.type)return void this.$message("请上传文件格式为jpeg或png的图片");if(a.size/1024>=300)return void this.$message("图片过大，请输入小于300k图片");var o=new FileReader;o.readAsDataURL(a),o.onload=function(t){n.imageUrl=t.target.result,n.$emit("return-shuju",{name:n.shuju.name,value:a})}},selectPic:function(t){var e=t.target.parentNode.nextSibling;"INPUT"!==e.tagName&&(e=e.nextSibling),"INPUT"!==e.tagName&&(e=t.target.nextSibling.nextSibling),e.click()}},mounted:function(){this.imageUrl=this.editValue},watch:{imageUrl:function(t,e){}}}},864:function(t,e,n){e=t.exports=n(291)(),e.push([t.i,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;position:relative;cursor:pointer;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}",""])},865:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputFile"},[n("div",{staticClass:"avatar-uploader",attrs:{size:"small"}},[n("div",{staticClass:"el-upload el-upload--text",on:{click:t.selectPic}},[t.imageUrl?n("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),n("input",{attrs:{type:"file",hidden:"hidden"},on:{change:function(e){t.previewPic(t.item,e)}}}),n("div",{staticClass:"delete-pic-btn"},[n("el-button",{staticClass:"btn_change",attrs:{size:"small"},on:{click:t.deleteImgFn}},[t._v("删除")])],1)])])},staticRenderFns:[]}},866:function(t,e,n){var a=n(864);"string"==typeof a&&(a=[[t.i,a,""]]);n(292)(a,{});a.locals&&(t.exports=a.locals)},980:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=n(855),r=n.n(a),i=n(846),o=n.n(i),s=n(1054),l=n.n(s);e.default={name:"user",data:function(){return{settitle:"公司信息管理",listN:{name:"公司名称 :",coding:"公司编码 :",legal_person:"负责人/法人 :",short_name:"公司简称 :",USCC:"统一码 :",phone:"电话 :",address:"地址 :",business_scope:"经营范围 :",total_staff:"员工总数 :",website:"公司网站 :"},listV:{},editDefault:{},logo:"",watermark:"",isShow:!1,isClass:!0,id:""}},methods:{showEdit:function(t){if(this.isShow=!this.isShow,"false"===t){var e=!0,n=!1,a=void 0;try{for(var r,i=Object.keys(this.editDefault)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.listV[o]=this.editDefault[o]}}catch(t){n=!0,a=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw a}}}},updateVal:function(t){this.listV=t,this.logo=t.logo,this.watermark=t.watermark}},components:{ContainTitle:o.a,footerTop:r.a,companyEdit:l.a},mounted:function(){var e=this;t.get("api/company/info").then(function(t){e.listV=t.data;var n=!0,a=!1,r=void 0;try{for(var i,o=Object.keys(t.data)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;e.editDefault[s]=t.data[s]}}catch(t){a=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}e.logo=t.data.logo,e.watermark=t.data.watermark,e.id=t.data.id})},created:function(){document.title="公司信息管理"}}}).call(e,n(75))},986:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(862),r=n.n(a),i=n(861),o=n.n(i),s=n(849);e.default={name:"userEdit",props:{editValue:{}},data:function(){return{id:"",checkNumber:[0],thread:{name:["公司名称","text","必填"],short_name:["公司简称","text",""],legal_person:["负责人/法人","text",""],USCC:["统一社会信用代码","text",""],phone:["电话","text","请输入11位手机号(固话用-隔开)"],fax:["传真","text",""],address:["公司地址","text",""],business_scope:["经营范围","text",""],total_staff:["员工总数","text",""],website:["公司网站","text",""],logo:["公司Logo","file","",{name:"logo"}],watermark:["水印","file","",{name:"watermark"}],memo:["备注","text",""]},rules:{name:[{required:!0,message:"请输入公司名称"},{validator:r.a.reCheck,url:"company",id:this.editValue.id}],phone:[{required:!1,validator:r.a.phone}],total_staff:[{required:!1,validator:r.a.reInteger}]}}},mixins:[s.a],methods:{closeClick:function(){this.$parent.showEdit("false")},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$dataPost(e,"company/"+e.editValue.id,e.editValue,!0,!1,!0).then(function(t){"false"!==t.data?(e.$message({message:"修改数据成功",type:"success"}),e.$parent.showEdit("true"),e.$emit("updateValue",t.data)):(e.$parent.showEdit("false"),e.$message.error("修改数据失败"))})})},getImg:function(t){this.editValue[t.name]=t.value}},components:{file:o.a},mounted:function(){}}}});