webpackJsonp([2],{143:function(t,a,e){var n,l;e(429),n=e(419);var s=e(461);l=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(l=n=n.default),"function"==typeof l&&(l=l.options),l.render=s.render,l.staticRenderFns=s.staticRenderFns,l._scopeId="data-v-4357d4b5",t.exports=n},412:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"PopPlanta",props:{cultivateId:0},data:function(){return{log:{cultivate_id:0,plantation_name:"",planta_name:"",plant_name:"",plant_varieties:"",cultivate_mode:"",plant_tp_variety:"",cultivate_density:"",manure_name:"",fertilize_amount:"",fertilize_way:"",medicament_name:"",spray_way:"",control_objects:"",plant_growth:"",planta_area:"",harvest_amount:0,cultivate_man:""},fertilizeWays:[],manureNames:[],medicamentNames:[],sprayWays:[]}},mounted:function(){this.getAllMsg()},methods:{getAllMsg:function(){var t=this;this.$http.get(this.$adminUrl("dailylog")+"/"+this.cultivateId+"/edit").then(function(a){t.$set(t,"log",a.body.dailylog),t.$set(t,"fertilizeWays",a.body.fertilize_way),t.$set(t,"manureNames",a.body.manure_category_name),t.$set(t,"medicamentNames",a.body.medicament_category_name),t.$set(t,"sprayWays",a.body.spray_way);var e=!0,n=!1,l=void 0;try{for(var s,i=Object.keys(t.log)[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var o=s.value;null==t.log[o]&&(t.log[o]="")}}catch(t){n=!0,l=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw l}}t.log.plant_growth=String(t.log.plant_growth),t.log.fertilize_amount=String(t.log.fertilize_amount)},function(t){})},validateBeforeSubmit:function(){var t=this;this.$http.post(this.$adminUrl("dailylog"),this.log).then(function(a){"true"===a.body?(t.$alert("保存成功","s"),t.$emit("operatorBack",t.log.cultivate_man)):t.$alert("保存失败","e")},function(a){t.$alert("连接出错","e")})},cancelPanel:function(){this.$emit("closeEdit")},getFertilizeWay:function(t){this.log.fertilize_way=t},getManureName:function(t){this.log.manure_name=t},getMedicamentName:function(t){this.log.medicament_name=t},getSprayWay:function(t){this.log.spray_way=t}}}},419:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(66),l=(e.n(n),e(137)),s=e.n(l),i=e(136),o=e.n(i),r=e(448),c=e.n(r),p=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};a.default={name:"Basic",data:function(){return{title:"每日农业日志",list:[],total:1,showItemDetail:"",plantaTmp:null,show:!1,message:"是否保存当前内容并生成图片"}},computed:{params:function(){return{params:{plantation_id:this.$route.params.id}}}},components:{Search:s.a,Paginator:o.a,PopLog:c.a},mounted:function(){this.setTitle("农业日志"),this.getAllPlanta()},watch:{$route:function(t,a){this.getAllPlanta()}},methods:p({},e.i(n.mapMutations)(["setTitle"]),{updateList:function(t){this.$set(this,"list",t.data),this.total=t.last_page},troggleEdit:function(t){this.showItemDetail!=t.cultivate_id?(this.showItemDetail=t.cultivate_id,this.plantaTmp=t):(this.showItemDetail="",this.plantaTmp=null)},closeOwnEditPane:function(t){this.troggleEdit(t)},getAllPlanta:function(){var t=this;this.$http.get(this.$adminUrl("dailylog/query"),{params:this.params}).then(function(a){t.$set(t,"list",a.body.data)},function(a){401==a.status?t.$router.push("/webapp/login/401"):t.$alert("连接出错","e")})},putAllStore:function(t){var a=this;this.$http.post(this.$adminUrl("dailylog/allstore"),{params:this.params.params}).then(function(t){a.show=!1,a.$alert("操作成功","s")},function(t){a.$alert("连接出错","e")}),1==t&&this.$http.post(this.$adminUrl("dailylog/wad")).then(function(t){a.$router.push("/webapp/dailylog")},function(t){a.$alert("连接出错","e")})},changeOperator:function(t){this.plantaTmp.cultivate_man=t,this.plantaTmp.date="",this.plantaTmp=null}})}},429:function(t,a){},435:function(t,a){},448:function(t,a,e){var n,l;e(435),n=e(412);var s=e(467);l=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(l=n=n.default),"function"==typeof l&&(l=l.options),l.render=s.render,l.staticRenderFns=s.staticRenderFns,t.exports=n},461:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"log"}},[e("search",{attrs:{placeholder:"搜索种植区",searchUrl:"dailylog",params:t.params},on:{callback:t.updateList}},[e("button",{staticClass:"stl-btn",on:{click:function(a){t.show=!0}}},[t._v("提交内容")])]),e("table",{staticClass:"table-list"},[t._m(0),e("tbody",{staticClass:"list-body"},[t._l(t.list,function(a,n){return[e("tr",{class:{"list-body-tr":!0,"list-body-tr-event":n%2!=0}},[e("td",{staticClass:"td-note",attrs:{name:"planta_name"}},[t._v(t._s(a.planta_name))]),e("td",{staticClass:"td-note",attrs:{name:"plant_name"}},[t._v(t._s(a.plant_name))]),e("td",{staticClass:"td-note",attrs:{name:"operator"}},[t._v(t._s(a.cultivate_man))]),e("td",{staticClass:"td-note",attrs:{name:"finish"}},[null!=a.date?e("img",{attrs:{src:t.$img("ok.png")}}):t._e()]),e("td",{staticClass:"align-c",attrs:{name:"open"},on:{click:function(e){t.troggleEdit(a)}}},[e("img",{attrs:{src:t.$img("list.png")}})])]),""!=t.showItemDetail&&t.showItemDetail==a.cultivate_id?e("tr",[e("td",{attrs:{colspan:"5"}},[e("pop-log",{attrs:{cultivateId:a.cultivate_id},on:{closeEdit:function(e){t.closeOwnEditPane(a.cultivate_id)},operatorBack:t.changeOperator}})],1)]):t._e()]})],2)]),e("div",{staticClass:"paginator-module"},[e("paginator",{attrs:{total:t.total,url:"dailylog/query",paginatorParams:t.params},on:{result:t.updateList}})],1),e("confirm",{attrs:{show:t.show,message:t.message},on:{confirmAction:function(a){t.putAllStore(1)},cancelAction:function(a){t.show=!1}}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"list-head"},[e("tr",{staticClass:"list-head-th"},[e("th",{staticClass:"fir",attrs:{name:"planta_name"}},[t._v("种植区")]),e("th",{attrs:{name:"plant_name"}},[t._v("果蔬名称")]),e("th",{attrs:{name:"operator"}},[t._v("操作人")]),e("th",{attrs:{name:"finish"}},[t._v("完成")]),e("th",{staticClass:"align-c",attrs:{name:"open"}})])])}]}},467:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{on:{submit:function(a){a.preventDefault(),t.validateBeforeSubmit(a)}}},[e("table",{staticClass:"main form-pop"},[e("tbody",{staticClass:"form-body"},[e("tr",[t._m(0),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.plantation_name,expression:"log.plantation_name"}],staticClass:"input-pop",attrs:{type:"text",id:"log_name",name:"log_name",disabled:"disabled"},domProps:{value:t._s(t.log.plantation_name)},on:{input:function(a){a.target.composing||(t.log.plantation_name=a.target.value)}}})])]),e("tr",[t._m(1),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.planta_name,expression:"log.planta_name"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"planta_name",name:"planta_name",disabled:"disabled"},domProps:{value:t._s(t.log.planta_name)},on:{input:function(a){a.target.composing||(t.log.planta_name=a.target.value)}}})])]),e("tr",[t._m(2),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.plant_name,expression:"log.plant_name"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"plant_name",name:"plant_name",disabled:"disabled"},domProps:{value:t._s(t.log.plant_name)},on:{input:function(a){a.target.composing||(t.log.plant_name=a.target.value)}}})])]),e("tr",[t._m(3),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.plant_varieties,expression:"log.plant_varieties"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"plant_varieties",name:"plant_varieties"},domProps:{value:t._s(t.log.plant_varieties)},on:{input:function(a){a.target.composing||(t.log.plant_varieties=a.target.value)}}})])]),e("tr",[t._m(4),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.cultivate_mode,expression:"log.cultivate_mode"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"cultivate_mode",name:"cultivate_mode"},domProps:{value:t._s(t.log.cultivate_mode)},on:{input:function(a){a.target.composing||(t.log.cultivate_mode=a.target.value)}}})])]),e("tr",[t._m(5),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.plant_tp_variety,expression:"log.plant_tp_variety"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"plant_tp_variety",name:"plant_tp_variety"},domProps:{value:t._s(t.log.plant_tp_variety)},on:{input:function(a){a.target.composing||(t.log.plant_tp_variety=a.target.value)}}})])]),e("tr",[t._m(6),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.cultivate_density,expression:"log.cultivate_density"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"cultivate_density",name:"cultivate_density"},domProps:{value:t._s(t.log.cultivate_density)},on:{input:function(a){a.target.composing||(t.log.cultivate_density=a.target.value)}}})])]),e("tr",[t._m(7),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("pop-select",{attrs:{name:"manure_name",items:t.manureNames,defaultIndex:0,protoBack:"manure_category_id",protoShow:"manure_category_name"},on:{callback:t.getManureName}})],1)]),e("tr",[t._m(8),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.fertilize_amount,expression:"log.fertilize_amount"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"fertilize_amount",name:"fertilize_amount"},domProps:{value:t._s(t.log.fertilize_amount)},on:{input:function(a){a.target.composing||(t.log.fertilize_amount=a.target.value)}}})])]),e("tr",[t._m(9),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("pop-select",{attrs:{name:"fertilize_way",items:t.fertilizeWays,defaultIndex:0,protoBack:"fertilize_way",protoShow:"fertilize_way"},on:{callback:t.getFertilizeWay}})],1)]),e("tr",[t._m(10),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("pop-select",{attrs:{name:"medicament_name",items:t.medicamentNames,defaultIndex:0,protoBack:"medicament_category_id",protoShow:"medicament_name"},on:{callback:t.getMedicamentName}})],1)]),e("tr",[t._m(11),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("pop-select",{attrs:{name:"spray_way",items:t.sprayWays,defaultIndex:0,protoBack:"spray_way",protoShow:"spray_way"},on:{callback:t.getSprayWay}})],1)]),e("tr",[t._m(12),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.control_objects,expression:"log.control_objects"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"control_objects",name:"control_objects"},domProps:{value:t._s(t.log.control_objects)},on:{input:function(a){a.target.composing||(t.log.control_objects=a.target.value)}}})])]),e("tr",[t._m(13),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.plant_growth,expression:"log.plant_growth"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"plant_growth",name:"plant_growth",disabled:"disabled"},domProps:{value:t._s(t.log.plant_growth)},on:{input:function(a){a.target.composing||(t.log.plant_growth=a.target.value)}}})])]),e("tr",[t._m(14),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.planta_area,expression:"log.planta_area"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"planta_area",name:"planta_area",disabled:"disabled"},domProps:{value:t._s(t.log.planta_area)},on:{input:function(a){a.target.composing||(t.log.planta_area=a.target.value)}}})])]),e("tr",[t._m(15),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.harvest_amount,expression:"log.harvest_amount"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"harvest_amount",name:"harvest_amount"},domProps:{value:t._s(t.log.harvest_amount)},on:{input:function(a){a.target.composing||(t.log.harvest_amount=a.target.value)}}})])]),e("tr",[t._m(16),e("td",{staticClass:"input-pop",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.log.cultivate_man,expression:"log.cultivate_man"}],staticClass:"input-pop",attrs:{type:"text",placeholder:"",id:"cultivate_man",name:"cultivate_man"},domProps:{value:t._s(t.log.cultivate_man)},on:{input:function(a){a.target.composing||(t.log.cultivate_man=a.target.value)}}})])]),e("tr",[e("td",{attrs:{colspan:"3"}},[e("div",{staticClass:"footer-r"},[e("a",{attrs:{href:"#"}},[e("button",{attrs:{type:"button"},on:{click:t.cancelPanel}},[t._v("\n                                取消\n                            ")])])]),t._m(17)])])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"logtion_name"}},[t._v("种植场名称")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"planta_name"}},[t._v("种植区名称")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"plant_name"}},[t._v("果蔬名称")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"plant_varieties"}},[t._v("播种/育苗品种")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"cultivate_mode"}},[t._v("播种/育苗方式")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"plant_tp_variety"}},[t._v("移栽品种")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"cultivate_density"}},[t._v("移栽密度")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"manure_name"}},[t._v("施肥种类")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"fertilize_amount"}},[t._v("施肥数量")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"fertilize_way"}},[t._v("施肥方式")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"medicament_name"}},[t._v("病虫害名称")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"spray_way"}},[t._v("施药方式")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"control_objects"}},[t._v("防治对象")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"plant_growth"}},[t._v("生长周期")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"planta_area"}},[t._v("种植面积")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"harvest_amount"}},[t._v("采收重量")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"label-tit"},[e("label",{attrs:{for:"cultivate_man"}},[t._v("操作人")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer-r"},[e("a",{attrs:{href:"#"}},[e("button",{staticClass:"btn-pop"},[t._v("\n                                保存\n                            ")])])])}]}}});